/*!
 * $.fn.scrollIntoView - similar to the default browser scrollIntoView
 * The default browser behavior always places the element at the top or bottom of its container. 
 * This override is smart enough to not scroll if the element is already visible.
 *
 * Copyright 2011 Arwid Bancewicz
 * Licensed under the MIT license
 * http://www.opensource.org/licenses/mit-license.php
 * 
 * @date 9 May 2011
 * @author Arwid Bancewicz http://arwid.ca
 * @version 0.2
 */
(function(a){a.fn.scrollIntoView=function(f,i,c){var b=a.extend({},a.fn.scrollIntoView.defaults);if(a.type(f)=="object"){a.extend(b,f)}else{if(a.type(f)=="number"){a.extend(b,{duration:f,easing:i,complete:c})}else{if(f==false){b.smooth=false}}}var g=Infinity,e=0;if(this.size()==1){((g=this.get(0).offsetTop)==null||(e=g+this.get(0).offsetHeight))}else{this.each(function(l){(l.offsetTop<g?g=l.offsetTop:l.offsetTop+l.offsetHeight>e?e=l.offsetTop+l.offsetHeight:null)})}e-=g;var j=this.commonAncestor().get(0);while(j){var d=j.scrollTop,k=j.clientHeight;if((j.scrollTop!=((j.scrollTop+=1)==null||j.scrollTop)&&(j.scrollTop-=1)!=null)||(j.scrollTop!=((j.scrollTop-=1)==null||j.scrollTop)&&(j.scrollTop+=1)!=null)){if(g<d){h(j,g)}else{if((g+e)>(d+k)){h(j,g+e-k)}}return}j=j.parentNode}function h(m,l){if(b.smooth){a(m).stop().animate({scrollTop:l},b)}else{m.scrollTop=g}}return this};a.fn.scrollIntoView.defaults={smooth:true,duration:null,easing:a.easing&&a.easing.easeOutExpo?"easeOutExpo":null,complete:a.noop(),step:null,specialEasing:null};a.fn.isOutOfView=function(b){var c=true;this.each(function(){var h=this.parentNode,d=h.scrollTop,g=h.clientHeight,f=this.offsetTop,e=this.offsetHeight;if(b?(f)>(d+g):(f+e)>(d+g)){}else{if(b?(f+e)<d:f<d){}else{c=false}}});return c};a.fn.commonAncestor=function(){var c=[];var f=Infinity;a(this).each(function(){var g=a(this).parents();c.push(g);f=Math.min(f,g.length)});for(var d in c){c[d]=c[d].slice(c[d].length-f)}for(var d in c[0]){var e=true;for(var b in c){if(c[b][d]!=c[0][d]){e=false;break}}if(e){return a(c[0][d])}}return a([])}})(jQuery);